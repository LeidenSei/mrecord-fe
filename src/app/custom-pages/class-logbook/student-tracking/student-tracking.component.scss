@use "../../../../variables.scss" as *;

.student-tracking-page {
  position: absolute;
  top: 0;
  bottom: 0;
  left: 0;
  right: 0;
  overflow: hidden;
  display: flex;
  flex-direction: column;
 
  .container-fluid {
    height: 100%;
    padding: 0;
    display: flex;
    flex-direction: column;
  }
 
  .row {
    margin: 0;
    flex: 1;
    display: flex;
    overflow: hidden;
  }
 
  .student-list-panel {
    border-right: 1px solid #dee2e6;
    background: #f8f9fa;
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
   
    .panel-header {
      padding: 12px;
      background: white;
      border-bottom: 1px solid #dee2e6;
      flex-shrink: 0;
     
      h5 {
        font-size: 14px;
        font-weight: 600;
        color: #424242;
        margin: 0;
      }
    }
   
    .filter-section {
      background: white;
      border-bottom: 1px solid #dee2e6;
      padding: 8px;
      flex-shrink: 0;
     
      .form-label {
        font-size: 12px;
        font-weight: 500;
        color: #424242;
        margin-bottom: 4px;
      }
    }
   
    .student-list {
      flex: 1;
      overflow-y: auto;
      padding: 6px;
     
      .student-item {
        padding: 8px;
        margin-bottom: 4px;
        background: white;
        border: 1px solid #dee2e6;
        border-radius: 4px;
        cursor: pointer;
        transition: all 0.2s;
       
        &:hover {
          background: #f0f0f0;
          border-color: #0d6efd;
        }
       
        &.active {
          background: #e7f1ff;
          border-color: #0d6efd;
          box-shadow: 0 2px 4px rgba(13, 110, 253, 0.1);
         
          .student-name {
            color: #0d6efd;
            font-weight: 600;
          }
        }
       
        .student-info {
          .student-name {
            font-size: 13px;
            font-weight: 500;
            margin-bottom: 2px;
          }
         
          .student-code {
            font-size: 11px;
          }
        }
      }
    }
  }
 
  .tracking-panel {
    display: flex;
    flex-direction: column;
    height: 100%;
    overflow: hidden;
   
    .panel-header {
      padding: 12px 16px;
      background: white;
      border-bottom: 1px solid #dee2e6;
      flex-shrink: 0;
     
      h5 {
        font-weight: 600;
        color: #424242;
        margin: 0;
      }
     
      label {
        font-weight: 500;
        color: #424242;
        margin-bottom: 0;
      }
    }
   
    .selected-student-info {
      padding: 10px 16px;
      background: #fff3cd;
      border-bottom: 1px solid #ffecb5;
      color: #856404;
      font-size: 14px;
      flex-shrink: 0;
    }
   
    .grid-container {
      flex: 1;
      overflow: hidden;
      position: relative;
      display: flex;
      flex-direction: column;
     
      .ag-theme-alpine {
        height: 100%;
        width: 100%;
      }
    }
  }
}

::ng-deep {
  .ag-theme-alpine {
    --ag-header-background-color: #f8f9fa;
    --ag-header-foreground-color: #424242;
    --ag-odd-row-background-color: #ffffff;
    --ag-row-hover-color: #f5f5f5;
    --ag-header-height: 45px;
    --ag-row-height: 40px;
    --ag-border-color: #dee2e6;
   
    .ag-root-wrapper {
      border: 1px solid #dee2e6;
      border-radius: 4px;
    }
   
    .ag-header {
      border-bottom: 2px solid #dee2e6;
      background-color: #f8f9fa;
    }
   
    .ag-header-cell {
      padding: 0 12px;
    }
   
    .ag-header-cell-label {
      font-weight: 600;
      font-size: 13px;
      color: #424242;
      justify-content: center;
    }
   
    // Header của cột thao tác
    .ag-header-cell.action-header {
      display: flex;
      align-items: center;
      justify-content: center;
      
      .ag-header-cell-label {
        justify-content: center;
      }
    }
   
    .ag-cell {
      line-height: 40px;
      padding: 0 12px;
      border-right: 1px solid #dee2e6;
    }
    
    // Cell STT
    .ag-cell.stt-cell {
      font-weight: 500;
      justify-content: center;
    }
   
    // Cell thao tác - Đơn giản hóa
    .ag-cell.action-cell {
      display: flex !important;
      align-items: center !important;
      justify-content: center !important;
      padding: 4px !important;
      
      .btn-delete {
        padding: 4px 10px;
        font-size: 12px;
        line-height: 1.4;
        
        &:hover {
          opacity: 0.9;
        }
        
        i {
          font-size: 12px;
        }
      }
      
      .text-muted {
        font-size: 11px;
        font-style: italic;
      }
    }
   
    .ag-row {
      border-bottom: 1px solid #dee2e6;
    }
   
    .ag-row-hover {
      background-color: #f5f5f5 !important;
    }
   
    .ag-row-selected {
      background-color: #e7f1ff !important;
    }
   
    .ag-row-first {
      background-color: #fff9e6 !important;
     
      &:hover {
        background-color: #fff3cd !important;
      }
    }
    
    // Fix cho text trong các cell có nhiều dòng
    .ag-cell-value {
      line-height: 1.4;
      overflow: hidden;
      text-overflow: ellipsis;
    }
    
    // Cải thiện hiển thị cho các cell có text dài
    .ag-cell-wrap-text {
      white-space: normal !important;
      line-height: 1.4 !important;
      padding-top: 6px !important;
      padding-bottom: 6px !important;
    }
  }
}